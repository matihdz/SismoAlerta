(this["webpackJsonpactividad-sismica"]=this["webpackJsonpactividad-sismica"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(8),a=n.n(c),s=n(2),r=n(1),i=function(e){e.classList.remove("btn-inactive"),e.classList.add("btn-active")},o=function(e){e.classList.remove("btn-active"),e.classList.add("btn-inactive")},l=function(e){e.classList.remove("section-inactive"),e.classList.add("section-active")},u=function(e){e.classList.remove("section-active"),e.classList.add("section-inactive")},d=function(e){var t=document.querySelector(".btn-active"),n=document.querySelector(".section-active");if(e&&!e.classList.contains("btn-active")){var c=e.classList.item(0),a=document.querySelectorAll(".".concat(c))[1];t&&(o(t),u(n)),i(e),l(a)}},m=n(3),j=n.n(m),b=n(6),h=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://chilealerta.com/api/query/?user=demo&select=onemi",e.next=3,fetch("https://chilealerta.com/api/query/?user=demo&select=onemi");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,c=n.onemi,a=0,c&&(s=c.map((function(e){var t=e.alert_date,n=e.alert_region,c=e.post_title;return{id:a+=1,alert_date:t,alert_region:n,post_title:c}}))),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=(n(16),n(0)),p=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){h().then((function(e){return c(e)}))}),[]),Object(f.jsx)(f.Fragment,{children:n?n.map((function(e){return Object(f.jsxs)("article",{className:"articleOR",children:[Object(f.jsx)("h2",{className:"articleOR__region",children:e.alert_region}),Object(f.jsxs)("p",{className:"articleOR__info",children:["- ",e.post_title,"."]}),Object(f.jsx)("time",{className:"articleOR__date",children:e.alert_date})]},e.id)})):Object(f.jsx)("p",{children:"No se logr\xf3 cargar la informaci\xf3n, reinicie la p\xe1gina e int\xe9ntelo nuevamente."})})},v=n(10),O=(n(18),function e(t,n){var c=document.querySelector(".alert"),a=document.querySelector("#formSE");if(!c&&a){var s=document.createElement("div"),r=document.createElement("div");s.classList.add("alert"),r.classList.add("paragraphAlert"),r.textContent=n,s.appendChild(r),"error"===t&&(s.classList.add("errorMsg"),a.appendChild(s)),setTimeout((function(){s.remove()}),3e3)}else c.remove(),e(t,n)}),_=(n(19),function(e){var t=document.querySelector("#formSE");if(t){var n=document.createElement("div");n.classList.add("spinnerChargue"),n.innerHTML='\n    <div class="sk-chase">\n      <div class="sk-chase-dot"></div>\n      <div class="sk-chase-dot"></div>\n      <div class="sk-chase-dot"></div>\n      <div class="sk-chase-dot"></div>\n      <div class="sk-chase-dot"></div>\n      <div class="sk-chase-dot"></div>\n    </div>\n    ',"on"!==e||n||t.appendChild(n),"off"===e&&n&&document.querySelector(".spinnerChargue")&&document.querySelector(".spinnerChargue").remove()}}),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c,a,s,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===document.querySelector("#countryInp").value){e.next=16;break}return _("on"),n="https://chilealerta.com/api/query/?user=matihdz&select=ultimos_sismos&minmagnitude=".concat(t.minmagnitude,"&limit=").concat(t.amount,"&country=").concat(t.country),e.next=6,fetch(n);case 6:return c=e.sent,e.next=9,c.json();case 9:return a=e.sent,_("off"),s=Object.keys(a)[1],(r=Object(v.a)(a[s])).length>100||r&&(i=r.map((function(e){return{id:e.id,chilean_time:e.chilean_time,local_time:e.local_time,magnitude:e.magnitude,depth:e.depth,latitude:e.latitude,longitude:e.longitude,reference:e.reference,scale:e.scale,source:e.source}}))),i&&0===i.length&&O("error","No se encontraron resultados"),e.abrupt("return",i);case 16:return e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(9),N=(n(20),function(e){var t=e.result;return Object(f.jsx)(f.Fragment,{children:t?t.map((function(e){return Object(f.jsxs)("article",{className:"articleLE",children:[Object(f.jsx)("h2",{className:"articleLE__place",children:e.reference}),Object(f.jsxs)("p",{className:"articleLE__magnitude",children:["Magnitud: ",e.magnitude," ",e.scale]}),Object(f.jsxs)("p",{className:"articleLE__latitude",children:["Latitud: ",e.latitude," ",e.scale]}),Object(f.jsxs)("p",{className:"articleLE__longitude",children:["Longitud: ",e.longitude," ",e.scale]}),Object(f.jsxs)("p",{className:"articleLE__depth",children:["Profundidad: ",e.depth," ",e.scale]}),Object(f.jsxs)("time",{className:"articleLE__local-time",children:["Hora Local: ",e.local_time]}),Object(f.jsxs)("time",{className:"articleLE__chilean-time",children:["Hora en Chile: ",e.chilean_time]}),Object(f.jsxs)("footer",{className:"articleLE__source",children:["Fuente: ",e.source]})]},e.id)})):O("error","Busquedas excedidas. Espere un momento antes de volver buscar.")})}),E=function(e){return Object.values(e).every((function(e){return""!==e}))},S=function(e){var t=e.country;return/^[A-Z\s,\u00E0-\u00FC]+$/i.test(t)},y=function(e){return E(e)?!!S(e)||(O("error","N\xfameros y simbolos no est\xe1n permitidos"),!1):(O("error","Todos los campos son requeridos"),!1)},L=(n(21),function(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(s.a)(a,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){y(n)&&x(n).then((function(e){l(e)}))}),[n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("form",{id:"formSE",className:"formSE",onSubmit:function(e){e.preventDefault(),c({country:e.target[0].value.toLowerCase(),minmagnitude:e.target[1].value,amount:e.target[2].value})},children:[Object(f.jsx)("label",{htmlFor:"countryInp",className:"formSE__label",children:"Pa\xeds"}),Object(f.jsx)("input",{id:"countryInp",className:"formSE__input",type:"text"}),Object(f.jsx)("label",{htmlFor:"mmInp",className:"formSE__label",children:"Magnitud m\xednima"}),Object(f.jsx)("input",{id:"mmInp",className:"formSE__input",type:"number"}),Object(f.jsx)("label",{htmlFor:"amountInp",className:"formSE__label",children:"Cantidad"}),Object(f.jsx)("input",{id:"amountInp",className:"formSE__input",type:"number"}),Object(f.jsx)("button",{className:"formSE__btnSearch",children:Object(f.jsx)(g.a,{})})]}),Object(f.jsx)("main",{children:Object(f.jsx)(N,{result:o})})]})}),k=(n(22),function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){d(n)}),[n]),Object(f.jsxs)("div",{className:"menu",children:[Object(f.jsxs)("div",{className:"nav",children:[Object(f.jsx)("button",{className:"SE btn-active nav__btn",onClick:function(e){c(e.target)},children:"Buscador de Sismos"}),Object(f.jsx)("button",{className:"OR btn-inactive nav__btn--OR",onClick:function(e){c(e.target)},children:"Onemi Informa"})]}),Object(f.jsxs)("section",{className:"SE section-active menu__section",children:[" ",Object(f.jsx)(L,{})," "]}),Object(f.jsxs)("section",{className:"OR section-inactive menu__section",children:[" ",Object(f.jsx)(p,{})," "]})]})}),q=(n(23),function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("h1",{className:"header__title",children:"Servicio Sismol\xf3gico"}),Object(f.jsxs)("p",{className:"header__paragraph",children:["Investiga los \xfaltimos sismos detectados en el mundo. Tambi\xe9n consulta los recientes informes sobre prevenciones y alertas indicadas por ",Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",className:"onemi-link",href:"https://www.onemi.gov.cl/",children:"ONEMI"})," seg\xfan cada regi\xf3n de Chile."]})]}),Object(f.jsx)(k,{})]})});n(24),n(25);a.a.render(Object(f.jsx)(q,{}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.aeafe9d1.chunk.js.map